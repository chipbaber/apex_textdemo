## How to Setup the Oracle APEX AI Assistant in Your Workspace in Under 4 Minutes 

In this video we will show you how to quickly wire your existing APEX installation to Oracle's OCI Generative AI models to enable the APEX AI Assistant and accelerate low coding through vibe coding practices. We recorded the video leveraging Oracle's 23ai Autonomous Transaction Processing Database with Oracle APEX 24.2.7. We will begin with a blank workspace and show how to access the workspace utilities, navigate to the Generative AI configuration screen and walk you through the configuration step by step. The setup does require that you have an OCI login and have access to the OCI Gen AI Service in your region. With that the video will showcase how to gather the compartment id, create a new API Key, gather the fingerprint, tenancy ocid, user ocid and where to place your private key in the configuration. Once configured you will test your connection and validate the AI Assistant functionality is now appearing inside SQL Worksheet. Don't struggle with the documentation or locating the required configuration details, in under four minutes this video will have you up and running. 

## Setting Up Oracle APEX AI Assistant
Please watch this video for step by step setup of the Generative AI Assistantant. [https://youtu.be/a7q22FkYQ0U](https://youtu.be/a7q22FkYQ0U) 

To perform the setup you will need the following: 

- [ ] An Oracle Cloud Tenancy
- [ ] A APEX Workspace with Developer/ADMIN priviledges
- [ ] An OCI login with the ability to create an API key
- [ ] A pem key or the ability to create a PEM key

## (Coming Soon) 3 Practical Examples of How the AI Assitant in SQL Workshop can add Immediate Value 

# Example 1 - Prepping Tables for Better AI Results

In order for you to maximize the power of your AI assistant in APEX you need to make sure existing tables have proper table comments at both the table level and the column level. In the example below we will provide you a table with some column comments and a table comment. The comments will be incomplete The commands below will illustrate how to quickly add missing table comments then leverage those comments for enhanced AI asks. 

Please watch this video before proceeding with the steps below []()/

- Lets begin by creating a sample table. Please execute the code below. 

```
  CREATE TABLE "TEAMSTATS" 
   (	"ID" NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 13 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  NOT NULL ENABLE, 
	"JERSEY" NUMBER, 
	"NAME" VARCHAR2(100), 
	"GP" NUMBER, 
	"PA" NUMBER, 
	"AB" NUMBER, 
	"H" NUMBER, 
	"C1B" NUMBER, 
	"C2B" NUMBER, 
	"C3B" NUMBER, 
	"HR" NUMBER, 
	"RBI" NUMBER, 
	"R" NUMBER, 
	"BB" NUMBER, 
	"SO" NUMBER, 
	"K_L" NUMBER, 
	"HBP" NUMBER, 
	"SAC" NUMBER, 
	"SF" NUMBER, 
	"ROE" NUMBER, 
	"FC" NUMBER, 
	"SB" NUMBER, 
	"QAB" NUMBER, 
	"QAB_" NUMBER, 
	"LOB" NUMBER, 
	"XBH" NUMBER, 
	"TB" NUMBER, 
	"PS" NUMBER, 
	"AVG" NUMBER GENERATED ALWAYS AS (ROUND("H"/"AB",3)) VIRTUAL , 
	"OBP" NUMBER GENERATED ALWAYS AS (ROUND(("H"+"BB"+"HBP")/("AB"+"BB"+"HBP"+"SAC"),3)) VIRTUAL , 
	"SLG" NUMBER GENERATED ALWAYS AS (ROUND("TB"/"AB",3)) VIRTUAL , 
	"VIDEO" VARCHAR2(2500), 
	 PRIMARY KEY ("ID")
  USING INDEX  ENABLE
   ) ;

   COMMENT ON COLUMN "TEAMSTATS"."JERSEY" IS 'The jersey number of the player';
   COMMENT ON COLUMN "TEAMSTATS"."NAME" IS 'The name number of the baseball player';
   COMMENT ON COLUMN "TEAMSTATS"."GP" IS 'The number of games played by the baseball player';
   COMMENT ON COLUMN "TEAMSTATS"."PA" IS 'The number of plate appearances by the baseball player';
   COMMENT ON COLUMN "TEAMSTATS"."AB" IS 'The number of at bats by the baseball player. An official at-bat comes when a batter reaches base via a fielders choice, hit or an error (not including catchers interference) or when a batter is put out on a non-sacrifice.';
   COMMENT ON COLUMN "TEAMSTATS"."H" IS 'The number of hits by a player in a season';
   COMMENT ON COLUMN "TEAMSTATS"."C1B" IS 'The number of singles by a player in a season';
   COMMENT ON COLUMN "TEAMSTATS"."C2B" IS 'The number of doubles by a player in a season';
   COMMENT ON COLUMN "TEAMSTATS"."C3B" IS 'The number of triples by a player in a season';
   COMMENT ON COLUMN "TEAMSTATS"."HR" IS 'The number of homeruns by a player in a season';
   COMMENT ON COLUMN "TEAMSTATS"."RBI" IS 'The number of runs batted in by a player in a season';
   COMMENT ON COLUMN "TEAMSTATS"."R" IS 'total runs scored';
   COMMENT ON COLUMN "TEAMSTATS"."BB" IS 'The number of base on balls by a player in a season';
   COMMENT ON COLUMN "TEAMSTATS"."SO" IS 'The number of strikeouts by a player in a season';
   COMMENT ON COLUMN "TEAMSTATS"."HBP" IS 'The number of hit by pitches by a player in a season';
   COMMENT ON COLUMN "TEAMSTATS"."SB" IS 'total stolen bases by the player during the season.';
   COMMENT ON COLUMN "TEAMSTATS"."QAB" IS 'The number of quality at bats for a player in a season';
   COMMENT ON COLUMN "TEAMSTATS"."QAB_" IS 'The percentage calculation of quality at bats for a player in a season. for example 46.55 is 46.55% of quality at bats. ';
   COMMENT ON COLUMN "TEAMSTATS"."LOB" IS 'total runners left on base when the player was at bat during the season.';
   COMMENT ON COLUMN "TEAMSTATS"."XBH" IS 'total extra base hits by a player during the season.';
   COMMENT ON COLUMN "TEAMSTATS"."AVG" IS 'The batting average of the player rounded to 3 decimal places as calculated by the number of hits divided by the number of at bats in a season';
   COMMENT ON COLUMN "TEAMSTATS"."OBP" IS 'The on base percentage for player rounded to 3 decimal places as calculated by (H+BB+HBP)/(AB+BB+HBP+SAC) in a season';
   COMMENT ON TABLE "TEAMSTATS"  IS 'This table the player statistics for the 2023 baseball season.';
```

- Next lets add some sample data. 
```
insert into teamstats (id, name, gp, ab, r, h, c1b, c2b, c3b, hr, xbh, tb, rbi, bb, hbp, so, k_l, sb, sf, sac, roe, fc, lob, pa, avg, obp, slg, qab, qab_, ps, jersey, video) values (1, 'Nathaniel', 20, 49, 21, 19, 9, 6, 2, 2, 10, 35, 11, 5, 2, 11, 3, 11, 1, 1, 5, 1, 15, 58, .388, .456, .714, 27, 46.55, 198, '4', '');
insert into teamstats (id, name, gp, ab, r, h, c1b, c2b, c3b, hr, xbh, tb, rbi, bb, hbp, so, k_l, sb, sf, sac, roe, fc, lob, pa, avg, obp, slg, qab, qab_, ps, jersey, video) values (2, 'Jack', 14, 24, 9, 5, 4, 1, 0, 0, 1, 6, 1, 10, 0, 6, 3, 3, 0, 0, 0, 0, 23, 34, .208, .441, .25, 21, 61.76, 159, '7', '');
insert into teamstats (id, name, gp, ab, r, h, c1b, c2b, c3b, hr, xbh, tb, rbi, bb, hbp, so, k_l, sb, sf, sac, roe, fc, lob, pa, avg, obp, slg, qab, qab_, ps, jersey, video) values (3, 'Brodie', 20, 53, 30, 26, 15, 4, 3, 4, 11, 48, 22, 5, 3, 4, 0, 22, 1, 0, 5, 1, 16, 62, .491, .557, .906, 35, 56.45, 225, '8', '');
insert into teamstats (id, name, gp, ab, r, h, c1b, c2b, c3b, hr, xbh, tb, rbi, bb, hbp, so, k_l, sb, sf, sac, roe, fc, lob, pa, avg, obp, slg, qab, qab_, ps, jersey, video) values (4, 'Kellan', 20, 49, 20, 19, 9, 9, 0, 1, 10, 31, 11, 11, 1, 5, 1, 9, 0, 0, 4, 0, 24, 61, .388, .508, .633, 28, 45.9, 231, '9', '');
insert into teamstats (id, name, gp, ab, r, h, c1b, c2b, c3b, hr, xbh, tb, rbi, bb, hbp, so, k_l, sb, sf, sac, roe, fc, lob, pa, avg, obp, slg, qab, qab_, ps, jersey, video) values (5, 'Tank', 18, 47, 15, 18, 8, 7, 1, 2, 10, 33, 27, 4, 3, 4, 1, 8, 0, 0, 2, 2, 19, 54, .383, .463, .702, 25, 46.3, 178, '11', 'https://youtu.be/kz1E99o0KEU');
insert into teamstats (id, name, gp, ab, r, h, c1b, c2b, c3b, hr, xbh, tb, rbi, bb, hbp, so, k_l, sb, sf, sac, roe, fc, lob, pa, avg, obp, slg, qab, qab_, ps, jersey, video) values (6, 'Ben', 14, 25, 7, 8, 7, 1, 0, 0, 1, 9, 6, 3, 0, 4, 1, 0, 0, 0, 2, 1, 14, 28, .32, .393, .36, 10, 35.71, 113, '17', '');
insert into teamstats (id, name, gp, ab, r, h, c1b, c2b, c3b, hr, xbh, tb, rbi, bb, hbp, so, k_l, sb, sf, sac, roe, fc, lob, pa, avg, obp, slg, qab, qab_, ps, jersey, video) values (7, 'Noah', 20, 35, 7, 8, 7, 1, 0, 0, 1, 9, 3, 9, 0, 9, 2, 1, 1, 0, 1, 1, 22, 45, .229, .386, .257, 23, 51.11, 180, '21', '');
insert into teamstats (id, name, gp, ab, r, h, c1b, c2b, c3b, hr, xbh, tb, rbi, bb, hbp, so, k_l, sb, sf, sac, roe, fc, lob, pa, avg, obp, slg, qab, qab_, ps, jersey, video) values (8, 'Kaleb', 20, 46, 10, 14, 9, 3, 0, 2, 5, 23, 12, 9, 1, 8, 3, 6, 1, 1, 0, 0, 23, 58, .304, .421, .5, 25, 43.1, 187, '22', '');
insert into teamstats (id, name, gp, ab, r, h, c1b, c2b, c3b, hr, xbh, tb, rbi, bb, hbp, so, k_l, sb, sf, sac, roe, fc, lob, pa, avg, obp, slg, qab, qab_, ps, jersey, video) values (9, 'Chase', 20, 38, 11, 11, 8, 3, 0, 0, 3, 14, 8, 10, 1, 10, 5, 1, 0, 0, 0, 2, 29, 50, .289, .449, .368, 22, 44, 205, '23', '');
insert into teamstats (id, name, gp, ab, r, h, c1b, c2b, c3b, hr, xbh, tb, rbi, bb, hbp, so, k_l, sb, sf, sac, roe, fc, lob, pa, avg, obp, slg, qab, qab_, ps, jersey, video) values (10, 'Connor', 19, 32, 7, 6, 5, 1, 0, 0, 1, 7, 5, 10, 0, 10, 4, 3, 0, 0, 0, 1, 31, 42, .188, .381, .219, 19, 45.24, 189, '27', '');
insert into teamstats (id, name, gp, ab, r, h, c1b, c2b, c3b, hr, xbh, tb, rbi, bb, hbp, so, k_l, sb, sf, sac, roe, fc, lob, pa, avg, obp, slg, qab, qab_, ps, jersey, video) values (11, 'Matthew', 18, 36, 9, 12, 9, 3, 0, 0, 3, 15, 8, 8, 0, 6, 1, 1, 0, 0, 3, 2, 17, 44, .333, .455, .417, 20, 45.45, 155, '28', '');
insert into teamstats (id, name, gp, ab, r, h, c1b, c2b, c3b, hr, xbh, tb, rbi, bb, hbp, so, k_l, sb, sf, sac, roe, fc, lob, pa, avg, obp, slg, qab, qab_, ps, jersey, video) values (12, 'Charles', 20, 37, 9, 9, 8, 1, 0, 0, 1, 10, 5, 13, 2, 4, 1, 3, 0, 0, 3, 2, 18, 52, .243, .462, .27, 24, 46.15, 194, '99', '');
```

- Then add a procedure
```
create or replace procedure myStats(atBats IN number, hits IN number, walks_hbp IN number, sac IN number, battingAvg OUT number, onBasePercentage out number) is
BEGIN
battingAvg := round(hits/(atBats),3);
onBasePercentage := round((hits+walks_hbp)/(atBats+walks_hbp+sac),3);
END myStats;
/
```

- With the data in place lets begin with the query based AI Assistant. 
```
does my teamstats table have any column comments
find my teamstats table and only show the column comments that are missing
Add a comment to SLG column that describes a baseball slugging percentage and how it is calculated from other columns in the table.
repeat for SAC column
repeat above for K_L, SF, ROE, FC, TB and PS columns
Create a query that generates Weighted On-Base Average per player
create a new column that auto calculates the Weighted On-Base Average per player for the table
```

# Example 2 - Generating Advanced Queries & Code blocks

- Now lets get a little more advanced in the query editor, clear the chat and paste in the asks below one at a time.
```
based on the number of games played by a player in the teamstats table create a 9 player lineup and forecast the number of runs potentially score in a single game based on the 9 players. in one column show the batting order in a comma seperated list with the player name and number. In the second colum show the forecased number of runs scored.

brodie got hurt, swap in the next best player and re-calculate runs per game
```

- Open the general AI assistant and paste in the example below to see all the lineup combinations possible. 
```
I have a table called teamstats, each player has a unique jersey number in the jersey column. write a code block that queries the table, returns the total number of unique players then calculates the number of combinations of 9 player lineups possible and returns to the coach the total number of lineup combinations he could potentially have.
```

- Now lets combine the power of the general and query based AI assistant. Open the query based assistant first. Insert and run the query. 

```
Get me the column names and all the column comments for the teamstats table.
```

- Now loop back to the general assistant and enter the following followed by a cut and paste of the output of your query above. 
```
We have a table named teamstats with the column names and column descriptions below. Please use this as I ask my next questions. 
```

```
Write a program that outputs the best 9 player batting lineup along with the players avg, hits, rbis, base on balls, Quality at Bats and runs scored from the teamstats table. Create the code block with logic that aims to put the players most likely to get on base early in the lineup, followed by the players likely to hit them (rbis). As a coach we value speed and stolen bases then qab if players are similar. After printing your batting lineup, write a brief summary in 350 characters or less summarizing the lineup and the expected number of runs to score in a 9 inning game based on the lineup you created. 
```

- Overall it did ok on pass one, but with any code you need to make, break and re-build so lets ask it to add what was left off. 
```
under the Batting lineup print the 350 character summary in the procedure
```

- Now lets see what we can make the AI do. 
```
very good, now based on this 9 player lineup addition queries and logic to the code block the use the 9 players selected and forecasts the likely hood the player has an extra base hit in the next game given the historical stats

add games played, BB and QAB % to the Batting lineup columns 

Add a section beneath the batting lineup called bench players that repeats the same columns for the starting lineup but for the players not currently in the game 

adjust the starting lineup logic in the procedure such that anyone batting less than .250 must bat 6th to 9th

Make sure to update your summary to include the new batting order logic. you can go up to 500 characters on it.

Do you think we will win this game?
```

# Example 3 - Explaining and Improving Existing Code

- Navigate to the mystats procedure in the object browser then open the AI Assistant in General mode. 

- Outline and say use selection

- Click Explain to see what the code is doing. Read through the results.

- Outline the code again and click improve. Insert and inspect the code. 




